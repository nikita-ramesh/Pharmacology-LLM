Test Set Evaluation Results
==================================================
Total test queries executed: 0
Successful test queries: 0
None count: 0
None IDs: 
Empty count: 0
Empty IDs: 
==================================================

--- Processing Test Case 1 ---
Natural Language Query: Find enzymes with endogenous substrates that have no pharmacology to speak of?
Expected SQL: select o.object_id, o.name from object o where o.object_id in (select distinct object_id from enzyme) and o.object_id in (select distinct object_id from endo_ligand_pairings) and o.object_id not in (select distinct object_id from interaction where object_id is not null and ((affinity_units != '-' and affinity_units is not null) or (original_affinity_units is not null and original_affinity_units != '-') or (concentration_range is not null and concentration_range != '-' and concentration_range != '')));
Generated SQL: SELECT e.object_id, s.ligand_id, l.name
FROM enzyme e
JOIN substrate s ON e.object_id = s.object_id
JOIN ligand l ON s.ligand_id = l.ligand_id
WHERE s.endogenous = true
  AND NOT EXISTS (
      SELECT 1 FROM interaction i WHERE i.ligand_id = s.ligand_id
  )
  AND NOT EXISTS (
      SELECT 1 FROM ligand2clinical_trial lc WHERE lc.ligand_id = s.ligand_id
  );

Expected SQL Results:
   object_id                           name
0       3201  chymotrypsin like elastase 2A
1       1409                    PLC&delta;1
2       1404                     PLC&beta;2
3       1280             adenylyl cyclase 3
4       1285             adenylyl cyclase 8

Generated SQL Results:
    object_id  ligand_id                                  name
0         640       3056                       (RS)-mevalonate
1         640       3056                       (RS)-mevalonate
2         638       3038                            acetyl CoA
3         640       3056                       (RS)-mevalonate
4         640       3056                       (RS)-mevalonate
5         639       3041                                 NADPH
6         640       3056                       (RS)-mevalonate
7         640       3056                       (RS)-mevalonate
8         641       3046               (R)-5-phosphomevalonate
9         638       3038                            acetyl CoA
10        638       3038                            acetyl CoA
11        641       3046               (R)-5-phosphomevalonate
12        640       3056                       (RS)-mevalonate
13        640       3056                       (RS)-mevalonate
14        639       3041                                 NADPH
15        638       3038                            acetyl CoA
16        641       3046               (R)-5-phosphomevalonate
17        641       3046               (R)-5-phosphomevalonate
18        640       3056                       (RS)-mevalonate
19        645       3041                                 NADPH
20        640       3056                       (RS)-mevalonate
21        638       3038                            acetyl CoA
22        640       3056                       (RS)-mevalonate
23       1446       5118                3-mercaptopyruvic acid
24       1617       5174   Rho GDP dissociation inhibitor beta
25       1619       5199                            huntingtin
26       1619       5253     retinoblastoma-associated protein
27       1263       3038                            acetyl CoA
28       1623       5199                            huntingtin
29       1623       5253     retinoblastoma-associated protein
30       1444       4782                            L-cysteine
31       1445       4782                            L-cysteine
32       1269       4786                 S-adenosyl methionine
33       1262       4809                          pyruvic acid
34       1390       5101                             12R-HPETE
35       1624       5186         FLICE-like inhibitory protein
36       1624       5152  BH3 interacting-domain death agonist
37       1275       5219                           malonyl-CoA
38       1443       5198                        L-homocysteine
39       1443       4782                            L-cysteine
40       1265       5248                         propionyl-CoA
41       1264       3038                            acetyl CoA
42       1612       5194               glucagon-like peptide 1
43        640       3056                       (RS)-mevalonate
44        640       3056                       (RS)-mevalonate
45        640       3056                       (RS)-mevalonate
46        640       3056                       (RS)-mevalonate
47        640       3056                       (RS)-mevalonate
48        645       4487                                  NADH
49       1243       4791                            L-tyrosine
50       2435       3044                            coenzyme A
51       2435       3038                            acetyl CoA
52        638       3039                       acetoacetyl CoA
53        638       3038                            acetyl CoA
54       2435       3039                       acetoacetyl CoA
55        638       3038                            acetyl CoA

--- Processing Test Case 2 ---
Natural Language Query: Write an essay on endothelian receptors antagonists
Expected SQL: select f.family_id, f.name, g.overview, g.comments, i.text from family f left join grac_family_text g on g.family_id=f.family_id left join introduction i on i.family_id=f.family_id where f.name ilike ('%endothelin%');
Generated SQL: -- First, identify endothelian receptors in the object table.
WITH recursive endothelian_receptor_families AS (
    SELECT group_id, family_id
    FROM grouping
    WHERE group_id IN (
        SELECT family_id
        FROM family
        WHERE name ILIKE '%endothelin%' OR name ILIKE '%Endothelin%'
    )
    UNION
    SELECT e.group_id, e.family_id
    FROM grouping e
    INNER JOIN endothelian_receptor_families s ON s.family_id = e.group_id
),
endothelian_receptors AS (
    SELECT o.object_id, o.name
    FROM object o
    WHERE o.object_id IN (
        SELECT object_id
        FROM receptor2family
        WHERE family_id IN (
            SELECT family_id
            FROM endothelian_receptor_families
            UNION
            SELECT family_id
            FROM family
            WHERE family_id IN (
                SELECT family_id
                FROM family
                WHERE name ILIKE '%endothelin%' OR name ILIKE '%Endothelin%'
            )
        )
    )
)

-- Retrieve all antagonistic ligands for the identified endothelian receptors.
SELECT l.ligand_id, l.name AS ligand_name, l.type AS ligand_type,
       er.name AS receptor_name, i.type AS interaction_type, i.affinity_units,
       i.affinity_high, i.affinity_median, i.affinity_low
FROM interaction i
JOIN ligand l ON i.ligand_id = l.ligand_id
JOIN endothelian_receptors er ON i.object_id = er.object_id
WHERE i.type = 'Antagonist';

Expected SQL Results:
   family_id  ...                                               text
0         21  ...  <heading>General</heading><p>In mammals, the e...

[1 rows x 5 columns]

Generated SQL Results:
    ligand_id                ligand_name        ligand_type  ... affinity_high affinity_median affinity_low
0       10070               aprocitentan  Synthetic organic  ...           NaN            8.47          NaN
1       10070               aprocitentan  Synthetic organic  ...           NaN            6.01          NaN
2        1000                   SB234551  Synthetic organic  ...           9.0             NaN          8.7
3        3508                 darusentan  Synthetic organic  ...           NaN            8.90          NaN
4        1003       [<sup>3</sup>H]BQ123            Peptide  ...           NaN            8.50          NaN
5        3951                ambrisentan  Synthetic organic  ...           NaN            5.92          NaN
6        3519                   PD164333  Synthetic organic  ...           NaN            9.00          NaN
7        3911                    RES7011            Peptide  ...           NaN            8.00          NaN
8        3487                 atrasentan  Synthetic organic  ...           NaN            6.86          NaN
9        1001  [<sup>125</sup>I]PD151242            Peptide  ...           9.1             NaN          9.0
10       1002  [<sup>125</sup>I]PD164333  Synthetic organic  ...           9.8             NaN          9.6
11       3528                   SB209670  Synthetic organic  ...           NaN            9.40          NaN
12       3913                    TAK 044            Peptide  ...           NaN            8.40          NaN
13       3528                   SB209670  Synthetic organic  ...           NaN            9.40          NaN
14       3913                    TAK 044            Peptide  ...           NaN            8.40          NaN
15       3494                   bosentan  Synthetic organic  ...           NaN            6.00          NaN
16       3951                ambrisentan  Synthetic organic  ...           NaN            7.10          NaN
17       3950                sitaxsentan  Synthetic organic  ...           NaN            8.00          NaN
18        999                  PD-156707  Synthetic organic  ...           9.8             NaN          9.0
19       3887                   IRL 2500            Peptide  ...           NaN            7.20          NaN
20       1010                      BQ788  Synthetic organic  ...           NaN            7.50          NaN
21        999                  PD-156707  Synthetic organic  ...           9.2             NaN          8.1
22       1009                    A192621  Synthetic organic  ...           NaN            8.10          NaN
23       1010                      BQ788  Synthetic organic  ...           8.0             NaN          7.9
24        997                      BQ123            Peptide  ...           7.4             NaN          6.9
25       3487                 atrasentan  Synthetic organic  ...           NaN            9.20          NaN
26       3479       [<sup>3</sup>H]S0139  Synthetic organic  ...           NaN            9.20          NaN
27       3494                   bosentan  Synthetic organic  ...           NaN            7.20          NaN
28       7352                 macitentan  Synthetic organic  ...           NaN            9.30          NaN
29       7352                 macitentan  Synthetic organic  ...           NaN            6.41          NaN
30       3951                ambrisentan  Synthetic organic  ...           NaN            7.66          NaN
31        998                   FR139317  Synthetic organic  ...           7.9             NaN          7.3
32       8260                  avosentan  Synthetic organic  ...           NaN            7.30          NaN
33       3487                 atrasentan  Synthetic organic  ...           NaN           10.47          NaN
34       8448                 sparsentan  Synthetic organic  ...           NaN            8.03          NaN
35       1011                 Ro 46-8443  Synthetic organic  ...           NaN            7.20          NaN
36       9651                     K-8794  Synthetic organic  ...           NaN            8.22          NaN
37      12286                clazosentan  Synthetic organic  ...           NaN            9.89          NaN
38      12286                clazosentan  Synthetic organic  ...           NaN            6.76          NaN
39       3539                 zibotentan  Synthetic organic  ...           NaN            8.30          NaN
40      12286                clazosentan  Synthetic organic  ...           NaN            9.50          NaN
41      10070               aprocitentan  Synthetic organic  ...           NaN            6.70          NaN
42      10070               aprocitentan  Synthetic organic  ...           NaN            5.50          NaN
43       3494                   bosentan  Synthetic organic  ...           NaN            7.10          NaN
44      13015                  edonentan  Synthetic organic  ...           NaN           11.00          NaN
45      13016                 BMS-193884  Synthetic organic  ...           NaN            8.85          NaN
46      13016                 BMS-193884  Synthetic organic  ...           NaN            4.73          NaN

[47 rows x 9 columns]

--- Processing Test Case 3 ---
Natural Language Query: Find GPCR agnonists with pKi affinities greater than 10
Expected SQL: select distinct ligand_id from interaction where object_id in (select distinct object_id from object where object_id in (select distinct object_id from receptor2family rf where family_id in (select family_id from family where type in ('gpcr')))) and type ='Agonist' and affinity_units ='pKi' and affinity_median >10;
